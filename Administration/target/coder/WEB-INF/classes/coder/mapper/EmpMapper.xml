<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.liu.coder.mapper.EmpMapper">
    <!--auto generated Code-->
    <resultMap id="AllColumnMap" type="com.liu.coder.pojo.Emp">
        <result column="employee_id" property="empId"/>
        <result column="employee_name" property="empName"/>
        <result column="email" property="email"/>
        <result column="phone_number" property="phoneNum"/>
        <result column="hire_date" property="hireDate"/>
        <result column="job_id" property="jobId"/>
        <result column="salary" property="salary"/>
        <result column="department_id" property="deptId"/>
    </resultMap>

    <!--auto generated Code-->
    <sql id="all_column">
        `employee_id`,
        `employee_name`,
        `email`,
        `phone_number`,
        `hire_date`,
        `job_id`,
        `salary`,
        `department_id`
    </sql>

    <!--auto generated Code-->
    <insert id="insert" useGeneratedKeys="true" keyProperty="pojo.empId">
        INSERT INTO employees (
            <include refid="all_column"/>
        ) VALUES (
            #{pojo.empId},
            #{pojo.empName},
            #{pojo.email},
            #{pojo.phoneNum},
            #{pojo.hireDate},
            #{pojo.jobId},
            #{pojo.salary},
            #{pojo.deptId}
        )
    </insert>

    <!--auto generated Code-->
    <insert id="insertSelective" useGeneratedKeys="true" keyProperty="pojo.empId">
        INSERT INTO employees
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="pojo.empId!=null">`employee_id`,</if>
            <if test="pojo.empName!=null">`employee_name`,</if>
            <if test="pojo.email!=null">`email`,</if>
            <if test="pojo.phoneNum!=null">`phone_number`,</if>
            <if test="pojo.hireDate!=null">`hire_date`,</if>
            <if test="pojo.jobId!=null">`job_id`,</if>
            <if test="pojo.deptId!=null">`department_id`,</if>
        </trim>
        VALUES
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="pojo.empId!=null">#{pojo.empId},</if>
            <if test="pojo.empName!=null">#{pojo.empName},</if>
            <if test="pojo.email!=null">#{pojo.email},</if>
            <if test="pojo.phoneNum!=null">#{pojo.phoneNum},</if>
            <if test="pojo.hireDate!=null">#{pojo.hireDate},</if>
            <if test="pojo.jobId!=null">#{pojo.jobId},</if>
            <if test="pojo.deptId!=null">#{pojo.deptId},</if>
        </trim>
    </insert>

    <!--auto generated Code-->
    <insert id="insertList">
        INSERT INTO employees (
        <include refid="all_column"/>
        )VALUES
        <foreach collection="pojos" item="pojo" index="index" separator=",">
            (
            #{pojo.empId},
            #{pojo.empName},
            #{pojo.email},
            #{pojo.phoneNum},
            #{pojo.hireDate},
            #{pojo.jobId},
            #{pojo.salary},
            #{pojo.deptId}
            )
        </foreach>
    </insert>

    <!--auto generated Code-->
    <update id="update">
        UPDATE employees
        <set>
            <if test="pojo.empId != null">`employee_id` = #{pojo.empId},</if>
            <if test="pojo.empName != null">`employee_name` = #{pojo.empName},</if>
            <if test="pojo.email != null">`email` = #{pojo.email},</if>
            <if test="pojo.phoneNum != null">`phone_number` = #{pojo.phoneNum},</if>
            <if test="pojo.hireDate != null">`hire_date` = #{pojo.hireDate},</if>
            <if test="pojo.jobId != null">`job_id` = #{pojo.jobId},</if>
            <if test="pojo.salary != null">`job_id` = #{pojo.salary},</if>
            <if test="pojo.deptId != null">`department_id` = #{pojo.deptId}</if>
        </set>
        WHERE employee_id = #{pojo.empId}
    </update>

    <!--auto generated by codehelper on 2017-03-31 20:45:03-->
    <select id="findAll" resultMap="AllColumnMap">
        select
        <include refid="all_column"/>
        from employees
    </select>

    <!--auto generated by codehelper on 2017-03-31 20:45:32-->
    <select id="countByDepId" resultType="java.lang.Integer">
        select count(*)
        from employees
        where `department_id`=#{deptId}
    </select>

    <!--auto generated by codehelper on 2017-03-31 22:18:55-->
    <delete id="deleteByDepId">
        delete from employees
        where `department_id`=#{deptId}
    </delete>

    <!--auto generated by codehelper on 2017-03-31 22:24:44-->
    <select id="findByDepId" resultMap="AllColumnMap">
        select
        <include refid="all_column"/>
        from employees
        where `department_id`=#{deptId}
    </select>


</mapper>

